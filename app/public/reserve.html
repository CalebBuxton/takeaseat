<!doctype html>
<html class="no-js" lang="">
<head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title></title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script type="text/javascript" src="http://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

	<!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
	<div class="container">
		<div class="jumbotron">
			<center>
				<h1><i class="fa fa-fire"></i> Hot Restaurant</h1></center>
				<hr>
				<center><h3>Make your reservation</h3>
					<a href="/tables"><button type="button" class="btn btn-lg btn-primary"><i class="fa fa-list"></i> View Tables</button></a>
					<a href="/"><button type="button" class="btn btn-lg btn-default"><i class="fa fa-home"></i></button></a>
				</center>
			</div>

			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Table Reservation</h3>
				</div>
				<div class="panel-body">
					<form>
						<div class="form-group">
						<label for="userName">Name</label>
							<input type="text" class="form-control" id="userName" placeholder="Your Name">
						</div>
						<div class="form-group">
						<label for="userNumber">Phone Number</label>
							<input type="tel" class="form-control" id="userNumber" placeholder="(###) ###-####">
						</div>
						<div class="form-group">
						<label for="userEmail">Email address</label>
							<input type="email" class="form-control" id="userEmail" placeholder="Email@email.com">
						</div>
						<div class="form-group">
						<label for="userId">Unique ID</label>
							<input type="text" class="form-control" id="userId" placeholder="">
						</div>
						<button type="submit" class="submit btn btn-primary">Submit</button>
					</form>
				</div>
			</div>
		</div>
		<footer class="footer">
			<div class="container">
				<p>Control Panel</p>
				<p>
					<a href="/api/reserved">API Table Link</a>   |   <a href="/api/waiting">API Wait List</a>
				</p>
			</div>
		</footer>
	</body>
	<script type="text/javascript">
		$(".submit").on("click", function(evt) {
			evt.preventDefault();

			var request = {
				name: $("#userName").val().trim(),
				number: $("#userNumber").val().trim(),
				email: $("#userEmail").val().trim(),
				id: $("#userId").val().trim(),
			};

			console.log(request)

			$.post("/api/reserved", request, function(data){
				if (data) {
					alert("booked!");
				}
				else {
					alert("Enjoy the waitlist")
				}

				$("#userName").val("")
				$("#userNumber").val("")
				$("#userEmail").val("")
				$("#userId").val("")
			})
		})

	</script>
	</html>